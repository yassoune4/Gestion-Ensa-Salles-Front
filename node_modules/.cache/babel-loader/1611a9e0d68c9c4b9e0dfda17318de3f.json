{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\src\\\\app\\\\main\\\\salle\\\\Salles\\\\SallesTable.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Icon, Table, TableBody, TableCell, TablePagination, TableRow, Checkbox } from '@material-ui/core';\nimport { FuseScrollbars } from '@fuse';\nimport { withRouter } from 'react-router-dom';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport SallesTableHead from './SallesTableHead';\nimport * as Actions from '../store/actions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction SallesTable(props) {\n  var dispatch = useDispatch();\n  var user = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user;\n  });\n  console.log('user data: ', user);\n  var products = useSelector(function (_ref2) {\n    var Salles = _ref2.Salles;\n    return Salles.products.data;\n  });\n  console.log('tickets data: ', products);\n  var searchText = useSelector(function (_ref3) {\n    var Salles = _ref3.Salles;\n    return Salles.products.searchText;\n  });\n  console.log('search text data ', searchText);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var _useState3 = useState(products),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      page = _useState6[0],\n      setPage = _useState6[1];\n\n  var _useState7 = useState(10),\n      _useState8 = _slicedToArray(_useState7, 2),\n      rowsPerPage = _useState8[0],\n      setRowsPerPage = _useState8[1];\n\n  var _useState9 = useState({\n    direction: 'asc',\n    id: null\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      order = _useState10[0],\n      setOrder = _useState10[1];\n\n  useEffect(function () {\n    console.log('CATEGORY USE EFFECT');\n    dispatch(Actions.getCategory(user));\n  }, [dispatch]);\n  useEffect(function () {\n    setData(searchText.length === 0 ? products : _.filter(products, function (item) {\n      return item.name.toLowerCase().includes(searchText.toLowerCase());\n    }));\n  }, [products, searchText]);\n\n  function handleRequestSort(event, property) {\n    var id = property;\n    var direction = 'desc';\n\n    if (order.id === property && order.direction === 'desc') {\n      direction = 'asc';\n    }\n\n    setOrder({\n      direction: direction,\n      id: id\n    });\n  }\n\n  function handleSelectAllClick(event) {\n    if (event.target.checked) {\n      setSelected(data.map(function (n) {\n        return n.id;\n      }));\n      return;\n    }\n\n    setSelected([]);\n  }\n\n  function handleChangePage(event, page) {\n    console.log('page: ', page);\n    setPage(page);\n  }\n\n  function handleChangeRowsPerPage(event) {\n    console.log('event: ', event);\n    setRowsPerPage(event.target.value);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"w-full flex flex-col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(FuseScrollbars, {\n    className: \"flex-grow overflow-x-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: \"min-w-xl\",\n    \"aria-labelledby\": \"tableTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(SallesTableHead, {\n    numSelected: selected.length,\n    order: order,\n    onSelectAllClick: handleSelectAllClick,\n    onRequestSort: handleRequestSort,\n    rowCount: data.length,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, _.orderBy(data, [function (o) {\n    console.log('ORDER: ', order);\n\n    switch (order.id) {\n      case 'categories':\n        {\n          return o.categories[0];\n        }\n\n      default:\n        {\n          return o[order.id];\n        }\n    }\n  }], [order.direction]).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (n) {\n    console.log('N: ', n);\n    var isSelected = selected.indexOf(n.id) !== -1;\n    return React.createElement(TableRow, {\n      className: \"h-64 cursor-pointer\",\n      hover: true,\n      role: \"checkbox\",\n      \"aria-checked\": isSelected,\n      tabIndex: -1,\n      key: n.id,\n      selected: isSelected,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      className: \"w-48 px-4 sm:px-12\",\n      padding: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Checkbox, {\n      checked: isSelected,\n      onClick: function onClick(event) {\n        return event.stopPropagation();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: \"categories\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, n.id), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, n.name), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, n.board), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, n.projector), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, n.network), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, n.speakers), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, n.positions), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, n.computers), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, n.conditioning), React.createElement(TableCell, {\n      className: \"truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, n.department != undefined ? n.department.name : ''));\n  })))), React.createElement(TablePagination, {\n    component: \"div\",\n    count: data.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    backIconButtonProps: {\n      'aria-label': 'Previous Page'\n    },\n    nextIconButtonProps: {\n      'aria-label': 'Next Page'\n    },\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }));\n}\n\nexport default withRouter(SallesTable);","map":{"version":3,"sources":["C:\\Users\\hp folio\\Documents\\ProjetLibre\\Front\\gestion-salle-front\\src\\app\\main\\salle\\Salles\\SallesTable.js"],"names":["React","useEffect","useState","Icon","Table","TableBody","TableCell","TablePagination","TableRow","Checkbox","FuseScrollbars","withRouter","clsx","_","SallesTableHead","Actions","useDispatch","useSelector","SallesTable","props","dispatch","user","auth","console","log","products","Salles","data","searchText","selected","setSelected","setData","page","setPage","rowsPerPage","setRowsPerPage","direction","id","order","setOrder","getCategory","length","filter","item","name","toLowerCase","includes","handleRequestSort","event","property","handleSelectAllClick","target","checked","map","n","handleChangePage","handleChangeRowsPerPage","value","orderBy","o","categories","slice","isSelected","indexOf","stopPropagation","board","projector","network","speakers","positions","computers","conditioning","department","undefined"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Icon, Table, TableBody, TableCell, TablePagination, TableRow, Checkbox} from '@material-ui/core';\nimport {FuseScrollbars} from '@fuse';\nimport {withRouter} from 'react-router-dom';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport SallesTableHead from './SallesTableHead';\nimport * as Actions from '../store/actions';\nimport {useDispatch, useSelector} from 'react-redux';\n\nfunction SallesTable(props)\n{\n    const dispatch = useDispatch();\n    const user = useSelector(({auth}) => auth.user);\n    console.log('user data: ', user);\n    const products = useSelector(({Salles}) => Salles.products.data);\n    console.log('tickets data: ', products);\n\n    const searchText = useSelector(({Salles}) => Salles.products.searchText);\n    console.log('search text data ', searchText);\n    const [selected, setSelected] = useState([]);\n    const [data, setData] = useState(products);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [order, setOrder] = useState({\n        direction: 'asc',\n        id       : null\n    });\n\n    useEffect(() => {\n        console.log('CATEGORY USE EFFECT');\n        dispatch(Actions.getCategory(user));\n    }, [dispatch]);\n\n    useEffect(() => {\n        setData(searchText.length === 0 ? products : _.filter(products, item =>  item.name.toLowerCase().includes(searchText.toLowerCase())))\n    }, [products, searchText]);\n\n    function handleRequestSort(event, property)\n    {\n        const id = property;\n        let direction = 'desc';\n\n        if ( order.id === property && order.direction === 'desc' )\n        {\n            direction = 'asc';\n        }\n\n        setOrder({\n            direction,\n            id\n        });\n    }\n\n    function handleSelectAllClick(event)\n    {\n        if ( event.target.checked )\n        {\n            setSelected(data.map(n => n.id));\n            return;\n        }\n        setSelected([]);\n    }\n\n\n\n\n\n    function handleChangePage(event, page)\n    {\n        console.log('page: ', page);\n        setPage(page);\n    }\n\n    function handleChangeRowsPerPage(event)\n    {\n        console.log('event: ', event);\n        setRowsPerPage(event.target.value);\n    }\n\n    return (\n        <div className=\"w-full flex flex-col\">\n\n            <FuseScrollbars className=\"flex-grow overflow-x-auto\">\n\n                <Table className=\"min-w-xl\" aria-labelledby=\"tableTitle\">\n\n                    <SallesTableHead\n                        numSelected={selected.length}\n                        order={order}\n                        onSelectAllClick={handleSelectAllClick}\n                        onRequestSort={handleRequestSort}\n                        rowCount={data.length}\n                    />\n\n                    <TableBody>\n                        {_.orderBy(data, [\n                            (o) => {\n                            console.log('ORDER: ',order);\n                                switch ( order.id )\n                                {\n                                    case 'categories':\n                                    {\n                                        return o.categories[0];\n                                    }\n                                    default:\n                                    {\n                                        return o[order.id];\n                                    }\n                                }\n                            }\n                        ], [order.direction])\n                            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                            .map(n => {\n                                console.log('N: ',n);\n                                const isSelected = selected.indexOf(n.id) !== -1;\n                                return (\n                                    <TableRow\n                                        className=\"h-64 cursor-pointer\"\n                                        hover\n                                        role=\"checkbox\"\n                                        aria-checked={isSelected}\n                                        tabIndex={-1}\n                                        key={n.id}\n                                        selected={isSelected}\n                                    >\n                                        <TableCell className=\"w-48 px-4 sm:px-12\" padding=\"checkbox\">\n                                            <Checkbox\n                                                checked={isSelected}\n                                                onClick={event => event.stopPropagation()}\n                                            />\n                                        </TableCell>\n\n\n\n                                        <TableCell className=\"categories\" component=\"th\" scope=\"row\">\n                                            {n.id}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.name}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.board}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.projector}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.network}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.speakers}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.positions}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.computers}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.conditioning}\n                                        </TableCell>\n\n                                        <TableCell className=\"truncate\" component=\"th\" scope=\"row\">\n                                            {n.department !=undefined ? n.department.name : ''}\n                                        </TableCell>\n\n\n                                    </TableRow>\n                                );\n                            })}\n                    </TableBody>\n                </Table>\n            </FuseScrollbars>\n\n            <TablePagination\n                component=\"div\"\n                count={data.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                backIconButtonProps={{\n                    'aria-label': 'Previous Page'\n                }}\n                nextIconButtonProps={{\n                    'aria-label': 'Next Page'\n                }}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n            />\n        </div>\n    );\n}\n\nexport default withRouter(SallesTable);\n"]},"metadata":{},"sourceType":"module"}