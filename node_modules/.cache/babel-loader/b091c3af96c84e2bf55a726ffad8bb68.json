{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\src\\\\app\\\\main\\\\evenementUser\\\\EvenementsUserFields\\\\EvenementsUserFields.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, Tab, Tabs, TextField, InputAdornment, Icon, Typography } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport { makeStyles } from '@material-ui/styles';\nimport { FuseAnimate, FusePageCarded, FuseChipSelect, FuseUtils } from '@fuse';\nimport { useForm } from '@fuse/hooks';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport { useDispatch, useSelector } from 'react-redux';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    productImageFeaturedStar: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      color: orange[400],\n      opacity: 0\n    },\n    productImageUpload: {\n      transitionProperty: 'box-shadow',\n      transitionDuration: theme.transitions.duration.short,\n      transitionTimingFunction: theme.transitions.easing.easeInOut\n    },\n    productImageItem: {\n      transitionProperty: 'box-shadow',\n      transitionDuration: theme.transitions.duration.short,\n      transitionTimingFunction: theme.transitions.easing.easeInOut,\n      '&:hover': {\n        '& $productImageFeaturedStar': {\n          opacity: .8\n        }\n      },\n      '&.featured': {\n        pointerEvents: 'none',\n        boxShadow: theme.shadows[3],\n        '& $productImageFeaturedStar': {\n          opacity: 1\n        },\n        '&:hover $productImageFeaturedStar': {\n          opacity: 1\n        }\n      }\n    }\n  };\n});\n\nfunction EvenementsUserFields(props) {\n  console.log('PROPS: ', props);\n  var dispatch = useDispatch();\n  var product = useSelector(function (_ref) {\n    var EvenementsUserDepartment = _ref.EvenementsUserDepartment;\n    return EvenementsUserDepartment.product;\n  });\n  var product2 = useSelector(function (_ref2) {\n    var EvenementsUserFields = _ref2.EvenementsUserFields;\n    return EvenementsUserFields.product2;\n  });\n  console.log('PRODUCT: ', product);\n  console.log('PRODUCT2: ', product2);\n  var classes = useStyles(props);\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      tabValue = _useState2[0],\n      setTabValue = _useState2[1];\n\n  var _useForm = useForm(null),\n      form = _useForm.form,\n      handleChange = _useForm.handleChange,\n      setForm = _useForm.setForm;\n\n  console.log(form);\n  var user = useSelector(function (_ref3) {\n    var auth = _ref3.auth;\n    return auth.user;\n  });\n  console.log('user: ', user);\n  var suggestions = ['YES', 'NO'].map(function (item) {\n    return {\n      value: item,\n      label: item\n    };\n  });\n  useEffect(function () {\n    function updateProductState() {\n      var params = props.match.params;\n      var categoryId = params.categoryId;\n      console.log('PRODUCTID: ', categoryId);\n\n      if (categoryId === 'new') {\n        console.log('TRIGGERED NEW PRODUCT FUNCTION');\n        dispatch(Actions.newProduct2(user, product));\n      } else {\n        console.log('TRIGGERED GET PRODUCT: ', props.match.params);\n        dispatch(Actions.getProduct2(props.match.params));\n      }\n    }\n\n    updateProductState();\n  }, [dispatch, props.match.params]);\n  useEffect(function () {\n    if (product2.data && !form || product2.data && form && product2.data.id !== form.id) {\n      setForm(product2.data);\n    }\n  }, [form, product2, setForm]);\n\n  function handleChangeTab(event, tabValue) {\n    console('TAB VALUE: ', tabValue);\n    setTabValue(tabValue);\n  }\n\n  function handleChipChange(value, name) {\n    console.log('VALUE: ', value);\n\n    if (value.length != 0) {\n      setForm(_.set(_objectSpread({}, form), name, value.value));\n    } else {\n      setForm(_.set(_objectSpread({}, form), name, null));\n    }\n  }\n\n  function handleAnotherChipChange(value, name) {\n    console.log('VALUE: ', value);\n\n    if (value.length !== 0) {\n      setForm(_.set(_objectSpread({}, form), name, value.id));\n    } else {\n      setForm(_.set(_objectSpread({}, form), name, null));\n    }\n  }\n\n  function canBeSubmitted() {\n    console.log('FORM: ', form);\n\n    if (form.salles != undefined) {\n      return form.salles.length > 0 && !_.isEqual(product2.data, form);\n    } else {}\n  }\n\n  return React.createElement(FusePageCarded, {\n    classes: {\n      toolbar: \"p-0\",\n      header: \"min-h-72 h-72 sm:h-136 sm:min-h-136\"\n    },\n    header: form && React.createElement(\"div\", {\n      className: \"flex flex-1 w-full items-center justify-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-col items-start max-w-full\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(FuseAnimate, {\n      animation: \"transition.slideRightIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"normal-case flex items-center sm:mb-12\",\n      component: Link,\n      role: \"button\",\n      to: \"/apps/user/events/\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"mr-4 text-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"arrow_back\"), \"Evenements pt2\")), React.createElement(\"div\", {\n      className: \"flex items-center max-w-full\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-col min-w-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(FuseAnimate, {\n      animation: \"transition.slideLeftIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"caption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"New Evenement: Salle\"))))), React.createElement(FuseAnimate, {\n      animation: \"transition.slideRightIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"whitespace-no-wrap\",\n      variant: \"contained\",\n      disabled: !canBeSubmitted(),\n      onClick: function onClick() {\n        return dispatch(Actions.saveCategory2(form, user));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Proceed\"))),\n    contentToolbar: React.createElement(Tabs, {\n      value: tabValue,\n      onChange: handleChangeTab,\n      indicatorColor: \"secondary\",\n      textColor: \"secondary\",\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      classes: {\n        root: \"w-full h-64\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      className: \"h-64 normal-case\",\n      label: \"Evenement Field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    })),\n    content: form && React.createElement(\"div\", {\n      className: \"p-16 sm:p-24 max-w-2xl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, tabValue === 0 && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      className: \"mt-8 mb-16\",\n      id: \"name\",\n      name: \"name\",\n      onChange: handleChange,\n      label: \"Name\",\n      type: \"text\" // value={form.categoryName}\n      ,\n      variant: \"outlined\",\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      className: \"mt-8 mb-16\",\n      id: \"startdate\",\n      name: \"startdate\",\n      onChange: handleChange,\n      label: \"StartDate\",\n      type: \"Date\" // value={form.categoryName}\n      ,\n      variant: \"outlined\",\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      className: \"mt-8 mb-16\",\n      id: \"starttime\",\n      name: \"starttime\",\n      onChange: handleChange,\n      label: \"startTime\",\n      type: \"Time\" // value={form.categoryName}\n      ,\n      variant: \"outlined\",\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      className: \"mt-8 mb-16\",\n      id: \"enddate\",\n      name: \"enddate\",\n      onChange: handleChange,\n      label: \"EndDate\",\n      type: \"Date\" // value={form.categoryName}\n      ,\n      variant: \"outlined\",\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      className: \"mt-8 mb-16\",\n      id: \"endtime\",\n      name: \"endtime\",\n      onChange: handleChange,\n      label: \"endTime\",\n      type: \"Time\" // value={form.categoryName}\n      ,\n      variant: \"outlined\",\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }), React.createElement(FuseChipSelect, {\n      className: \"w-full my-16\",\n      onChange: function onChange(value) {\n        return handleAnotherChipChange(value, 'salle');\n      },\n      placeholder: \"Select a single option\",\n      textFieldProps: {\n        label: 'Salles',\n        InputLabelProps: {\n          shrink: true\n        },\n        variant: 'standard'\n      },\n      options: form.salles.map(function (item) {\n        return console.log('ITEM: ', item), {\n          value: item.name,\n          label: item.name,\n          id: item.id\n        };\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }))),\n    innerScroll: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  });\n}\n\nexport default withReducer('EvenementsUserFields', reducer)(EvenementsUserFields);","map":{"version":3,"sources":["C:\\Users\\hp folio\\Documents\\ProjetLibre\\Front\\gestion-salle-front\\src\\app\\main\\evenementUser\\EvenementsUserFields\\EvenementsUserFields.js"],"names":["React","useEffect","useState","Button","Tab","Tabs","TextField","InputAdornment","Icon","Typography","orange","makeStyles","FuseAnimate","FusePageCarded","FuseChipSelect","FuseUtils","useForm","Link","clsx","_","useDispatch","useSelector","withReducer","Actions","reducer","useStyles","theme","productImageFeaturedStar","position","top","right","color","opacity","productImageUpload","transitionProperty","transitionDuration","transitions","duration","short","transitionTimingFunction","easing","easeInOut","productImageItem","pointerEvents","boxShadow","shadows","EvenementsUserFields","props","console","log","dispatch","product","EvenementsUserDepartment","product2","classes","tabValue","setTabValue","form","handleChange","setForm","user","auth","suggestions","map","item","value","label","updateProductState","params","match","categoryId","newProduct2","getProduct2","data","id","handleChangeTab","event","handleChipChange","name","length","set","handleAnotherChipChange","canBeSubmitted","salles","undefined","isEqual","toolbar","header","saveCategory2","root","InputLabelProps","shrink","variant"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Button, Tab, Tabs, TextField, InputAdornment, Icon, Typography} from '@material-ui/core';\nimport {orange} from '@material-ui/core/colors';\nimport {makeStyles} from '@material-ui/styles';\nimport {FuseAnimate, FusePageCarded, FuseChipSelect, FuseUtils} from '@fuse';\nimport {useForm} from '@fuse/hooks';\nimport {Link} from 'react-router-dom';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport {useDispatch, useSelector} from 'react-redux';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\n\nconst useStyles = makeStyles(theme => ({\n    productImageFeaturedStar: {\n        position: 'absolute',\n        top     : 0,\n        right   : 0,\n        color   : orange[400],\n        opacity : 0\n    },\n    productImageUpload      : {\n        transitionProperty      : 'box-shadow',\n        transitionDuration      : theme.transitions.duration.short,\n        transitionTimingFunction: theme.transitions.easing.easeInOut,\n    },\n    productImageItem        : {\n        transitionProperty      : 'box-shadow',\n        transitionDuration      : theme.transitions.duration.short,\n        transitionTimingFunction: theme.transitions.easing.easeInOut,\n        '&:hover'               : {\n            '& $productImageFeaturedStar': {\n                opacity: .8\n            }\n        },\n        '&.featured'            : {\n            pointerEvents                      : 'none',\n            boxShadow                          : theme.shadows[3],\n            '& $productImageFeaturedStar'      : {\n                opacity: 1\n            },\n            '&:hover $productImageFeaturedStar': {\n                opacity: 1\n            }\n        }\n    }\n}));\n\nfunction EvenementsUserFields(props)\n{\n    console.log('PROPS: ', props);\n    const dispatch = useDispatch();\n    const product = useSelector(({EvenementsUserDepartment}) => EvenementsUserDepartment.product);\n    const product2 = useSelector(({EvenementsUserFields}) => EvenementsUserFields.product2);\n    console.log('PRODUCT: ',product);\n    console.log('PRODUCT2: ',product2);\n    const classes = useStyles(props);\n    const [tabValue, setTabValue] = useState(0);\n    const {form, handleChange, setForm} = useForm(null);\n    console.log(form);\n    const user = useSelector(({auth}) => auth.user);\n    console.log('user: ',user)\n\n    const suggestions = [\n        'YES',\n        'NO'\n    ].map(item => ({\n        value: item,\n        label: item\n    }));\n\n    useEffect(() => {\n        function updateProductState()\n        {\n            const params = props.match.params;\n            const {categoryId} = params;\n            console.log('PRODUCTID: ', categoryId);\n            if ( categoryId === 'new' )\n            {\n                console.log('TRIGGERED NEW PRODUCT FUNCTION');\n                dispatch(Actions.newProduct2(user, product));\n            }\n            else\n            {\n                console.log('TRIGGERED GET PRODUCT: ', props.match.params);\n                dispatch(Actions.getProduct2(props.match.params));\n            }\n        }\n\n        updateProductState();\n    }, [dispatch, props.match.params]);\n\n    useEffect(() => {\n        if (\n            (product2.data && !form) ||\n            (product2.data && form && product2.data.id !== form.id)\n        )\n        {\n            setForm(product2.data);\n        }\n    }, [form, product2, setForm]);\n\n    function handleChangeTab(event, tabValue)\n    {\n        console('TAB VALUE: ', tabValue);\n        setTabValue(tabValue);\n    }\n\n    function handleChipChange(value, name)\n    {\n\n        console.log('VALUE: ', value);\n        if(value.length != 0){\n            setForm(_.set({...form}, name, value.value));\n        }\n        else{\n            setForm(_.set({...form}, name, null));\n        }\n    }\n\n    function handleAnotherChipChange(value, name)\n    {\n\n        console.log('VALUE: ', value);\n        if(value.length !== 0){\n            setForm(_.set({...form}, name, value.id));\n        }\n        else{\n            setForm(_.set({...form}, name, null));\n        }\n    }\n\n    function canBeSubmitted()\n    {\n        console.log('FORM: ', form);\n        if(form.salles != undefined) {\n            return (\n                form.salles.length > 0 &&\n                !_.isEqual(product2.data, form)\n            );\n        }else{\n\n        }\n    }\n\n    return (\n        <FusePageCarded\n            classes={{\n                toolbar: \"p-0\",\n                header : \"min-h-72 h-72 sm:h-136 sm:min-h-136\"\n            }}\n            header={\n                form && (\n                    <div className=\"flex flex-1 w-full items-center justify-between\">\n\n                        <div className=\"flex flex-col items-start max-w-full\">\n\n                            <FuseAnimate animation=\"transition.slideRightIn\" delay={300}>\n                                <Typography className=\"normal-case flex items-center sm:mb-12\" component={Link} role=\"button\" to=\"/apps/user/events/\" color=\"inherit\">\n                                    <Icon className=\"mr-4 text-20\">arrow_back</Icon>\n                                    Evenements pt2\n                                </Typography>\n                            </FuseAnimate>\n\n                            <div className=\"flex items-center max-w-full\">\n\n                                <div className=\"flex flex-col min-w-0\">\n\n                                    <FuseAnimate animation=\"transition.slideLeftIn\" delay={300}>\n                                        <Typography variant=\"caption\">New Evenement: Salle</Typography>\n                                    </FuseAnimate>\n                                </div>\n                            </div>\n                        </div>\n                        <FuseAnimate animation=\"transition.slideRightIn\" delay={300}>\n                            <Button\n                                className=\"whitespace-no-wrap\"\n                                variant=\"contained\"\n                                disabled={!canBeSubmitted()}\n                                onClick={() => dispatch(Actions.saveCategory2(form, user))}\n                            >\n                                Proceed\n                            </Button>\n                        </FuseAnimate>\n                    </div>\n                )\n            }\n            contentToolbar={\n                <Tabs\n                    value={tabValue}\n                    onChange={handleChangeTab}\n                    indicatorColor=\"secondary\"\n                    textColor=\"secondary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                    classes={{root: \"w-full h-64\"}}\n                >\n                    <Tab className=\"h-64 normal-case\" label=\"Evenement Field\"/>\n                </Tabs>\n            }\n            content={\n                form && (\n                    <div className=\"p-16 sm:p-24 max-w-2xl\">\n                        {tabValue === 0 &&\n                        (\n\n\n\n                            <div>\n\n                                <TextField\n                                    className=\"mt-8 mb-16\"\n                                    id=\"name\"\n                                    name=\"name\"\n                                    onChange={handleChange}\n                                    label=\"Name\"\n                                    type=\"text\"\n                                    // value={form.categoryName}\n                                    variant=\"outlined\"\n                                    fullWidth\n                                />\n\n                                <TextField\n                                    className=\"mt-8 mb-16\"\n                                    id=\"startdate\"\n                                    name=\"startdate\"\n                                    onChange={handleChange}\n                                    label=\"StartDate\"\n                                    type=\"Date\"\n                                   // value={form.categoryName}\n                                    variant=\"outlined\"\n                                    fullWidth\n                                />\n\n                                <TextField\n                                    className=\"mt-8 mb-16\"\n                                    id=\"starttime\"\n                                    name=\"starttime\"\n                                    onChange={handleChange}\n                                    label=\"startTime\"\n                                    type=\"Time\"\n                                    // value={form.categoryName}\n                                    variant=\"outlined\"\n                                    fullWidth\n                                />\n\n\n                                <TextField\n                                    className=\"mt-8 mb-16\"\n                                    id=\"enddate\"\n                                    name=\"enddate\"\n                                    onChange={handleChange}\n                                    label=\"EndDate\"\n                                    type=\"Date\"\n                                    // value={form.categoryName}\n                                    variant=\"outlined\"\n                                    fullWidth\n                                />\n\n                                <TextField\n                                    className=\"mt-8 mb-16\"\n                                    id=\"endtime\"\n                                    name=\"endtime\"\n                                    onChange={handleChange}\n                                    label=\"endTime\"\n                                    type=\"Time\"\n                                    // value={form.categoryName}\n                                    variant=\"outlined\"\n                                    fullWidth\n                                />\n\n\n                                <FuseChipSelect\n                                    className=\"w-full my-16\"\n                                    onChange={(value) => handleAnotherChipChange(value, 'salle')}\n                                    placeholder=\"Select a single option\"\n                                    textFieldProps={{\n                                        label          : 'Salles',\n                                        InputLabelProps: {\n                                            shrink: true\n                                        },\n                                        variant        : 'standard'\n                                    }}\n                                    options={\n                                        form.salles.map(item => (console.log('ITEM: ',item) ,{\n                                            value: item.name,\n                                            label: item.name,\n                                            id: item.id\n                                        }))\n                                    }\n                                />\n\n                            </div>\n                        )}\n                    </div>\n                )\n            }\n            innerScroll\n        />\n    )\n}\n\nexport default withReducer('EvenementsUserFields', reducer)(EvenementsUserFields);\n"]},"metadata":{},"sourceType":"module"}