{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\src\\\\app\\\\main\\\\login\\\\tabs\\\\FirebaseLoginTab.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Button, InputAdornment, Icon } from '@material-ui/core';\nimport { TextFieldFormsy } from '@fuse';\nimport Formsy from 'formsy-react';\nimport * as authActions from 'app/auth/store/actions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction FirebaseLoginTab(props) {\n  var dispatch = useDispatch();\n  var login = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.login;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFormValid = _useState2[0],\n      setIsFormValid = _useState2[1];\n\n  var formRef = useRef(null);\n  useEffect(function () {\n    if (login.error && (login.error.username || login.error.password)) {\n      formRef.current.updateInputsWithError(_objectSpread({}, login.error));\n      disableButton();\n    }\n  }, [login.error]);\n\n  function disableButton() {\n    setIsFormValid(false);\n  }\n\n  function enableButton() {\n    setIsFormValid(true);\n  }\n\n  function handleSubmit(model) {\n    dispatch(authActions.submitLoginWithFireBase(model));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"w-full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Formsy, {\n    onValidSubmit: handleSubmit,\n    onValid: enableButton,\n    onInvalid: disableButton,\n    ref: formRef,\n    className: \"flex flex-col justify-center w-full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(TextFieldFormsy, {\n    className: \"mb-16\",\n    type: \"text\",\n    name: \"username\",\n    label: \"Email\",\n    validations: {\n      minLength: 4\n    },\n    validationErrors: {\n      minLength: 'Min character length is 4'\n    },\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: \"text-20\",\n        color: \"action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"email\"))\n    },\n    variant: \"outlined\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(TextFieldFormsy, {\n    className: \"mb-16\",\n    type: \"password\",\n    name: \"password\",\n    label: \"Password\",\n    validations: {\n      minLength: 4\n    },\n    validationErrors: {\n      minLength: 'Min character length is 4'\n    },\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: \"text-20\",\n        color: \"action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"vpn_key\"))\n    },\n    variant: \"outlined\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"w-full mx-auto normal-case mt-16\",\n    \"aria-label\": \"LOG IN\",\n    disabled: !isFormValid,\n    value: \"firebase\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Log in with Firebase\")));\n}\n\nexport default FirebaseLoginTab;","map":{"version":3,"sources":["C:\\Users\\hp folio\\Documents\\ProjetLibre\\Front\\gestion-salle-front\\src\\app\\main\\login\\tabs\\FirebaseLoginTab.js"],"names":["React","useEffect","useRef","useState","Button","InputAdornment","Icon","TextFieldFormsy","Formsy","authActions","useDispatch","useSelector","FirebaseLoginTab","props","dispatch","login","auth","isFormValid","setIsFormValid","formRef","error","username","password","current","updateInputsWithError","disableButton","enableButton","handleSubmit","model","submitLoginWithFireBase","minLength","endAdornment"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {Button, InputAdornment, Icon} from '@material-ui/core';\nimport {TextFieldFormsy} from '@fuse';\nimport Formsy from 'formsy-react';\nimport * as authActions from 'app/auth/store/actions';\nimport {useDispatch, useSelector} from 'react-redux';\n\nfunction FirebaseLoginTab(props)\n{\n    const dispatch = useDispatch();\n    const login = useSelector(({auth}) => auth.login);\n\n    const [isFormValid, setIsFormValid] = useState(false);\n    const formRef = useRef(null);\n\n    useEffect(() => {\n        if ( login.error && (login.error.username || login.error.password) )\n        {\n            formRef.current.updateInputsWithError({\n                ...login.error\n            });\n            disableButton();\n        }\n    }, [login.error]);\n\n    function disableButton()\n    {\n        setIsFormValid(false);\n    }\n\n    function enableButton()\n    {\n        setIsFormValid(true);\n    }\n\n    function handleSubmit(model)\n    {\n        dispatch(authActions.submitLoginWithFireBase(model));\n    }\n\n    return (\n        <div className=\"w-full\">\n            <Formsy\n                onValidSubmit={handleSubmit}\n                onValid={enableButton}\n                onInvalid={disableButton}\n                ref={formRef}\n                className=\"flex flex-col justify-center w-full\"\n            >\n                <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"username\"\n                    label=\"Email\"\n                    validations={{\n                        minLength: 4\n                    }}\n                    validationErrors={{\n                        minLength: 'Min character length is 4'\n                    }}\n                    InputProps={{\n                        endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">email</Icon></InputAdornment>\n                    }}\n                    variant=\"outlined\"\n                    required\n                />\n\n                <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"password\"\n                    name=\"password\"\n                    label=\"Password\"\n                    validations={{\n                        minLength: 4\n                    }}\n                    validationErrors={{\n                        minLength: 'Min character length is 4'\n                    }}\n                    InputProps={{\n                        endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">vpn_key</Icon></InputAdornment>\n                    }}\n                    variant=\"outlined\"\n                    required\n                />\n\n                <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className=\"w-full mx-auto normal-case mt-16\"\n                    aria-label=\"LOG IN\"\n                    disabled={!isFormValid}\n                    value=\"firebase\"\n                >\n                    Log in with Firebase\n                </Button>\n\n            </Formsy>\n        </div>\n    );\n}\n\nexport default FirebaseLoginTab;\n"]},"metadata":{},"sourceType":"module"}