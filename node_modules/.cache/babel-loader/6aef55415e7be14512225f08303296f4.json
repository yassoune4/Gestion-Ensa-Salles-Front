{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\hp folio\\\\Documents\\\\ProjetLibre\\\\Front\\\\gestion-salle-front\\\\src\\\\app\\\\main\\\\evenementUser\\\\product\\\\Product.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, Tab, Tabs, TextField, InputAdornment, Icon, Typography } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport { makeStyles } from '@material-ui/styles';\nimport { FuseAnimate, FusePageCarded, FuseChipSelect, FuseUtils } from '@fuse';\nimport { useForm } from '@fuse/hooks';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport { useDispatch, useSelector } from 'react-redux';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    productImageFeaturedStar: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      color: orange[400],\n      opacity: 0\n    },\n    productImageUpload: {\n      transitionProperty: 'box-shadow',\n      transitionDuration: theme.transitions.duration.short,\n      transitionTimingFunction: theme.transitions.easing.easeInOut\n    },\n    productImageItem: {\n      transitionProperty: 'box-shadow',\n      transitionDuration: theme.transitions.duration.short,\n      transitionTimingFunction: theme.transitions.easing.easeInOut,\n      '&:hover': {\n        '& $productImageFeaturedStar': {\n          opacity: .8\n        }\n      },\n      '&.featured': {\n        pointerEvents: 'none',\n        boxShadow: theme.shadows[3],\n        '& $productImageFeaturedStar': {\n          opacity: 1\n        },\n        '&:hover $productImageFeaturedStar': {\n          opacity: 1\n        }\n      }\n    }\n  };\n});\n\nfunction Product(props) {\n  console.log('PROPS: ', props);\n  var dispatch = useDispatch();\n  var product = useSelector(function (_ref) {\n    var eCommerceApp = _ref.eCommerceApp;\n    return eCommerceApp.product;\n  });\n  console.log(product);\n  var classes = useStyles(props);\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      tabValue = _useState2[0],\n      setTabValue = _useState2[1];\n\n  var _useForm = useForm(null),\n      form = _useForm.form,\n      handleChange = _useForm.handleChange,\n      setForm = _useForm.setForm;\n\n  console.log(form);\n  var user = useSelector(function (_ref2) {\n    var auth = _ref2.auth;\n    return auth.user;\n  });\n  console.log('user: ', user);\n  var suggestions = ['YES', 'NO'].map(function (item) {\n    return {\n      value: item,\n      label: item\n    };\n  });\n  useEffect(function () {\n    function updateProductState() {\n      var params = props.match.params;\n      /*\n      const {userId} = params;\n      console.log('PRODUCTID: ', userId);\n      if ( userId === 'new' )\n      {\n          console.log('TRIGGERED NEW PRODUCT FUNCTION');\n          dispatch(Actions.newProduct(user));\n      }\n      else\n      {\n          console.log('TRIGGERED GET PRODUCT: ', props.match.params);\n          dispatch(Actions.getProduct(props.match.params));\n      }\n      */\n\n      dispatch(Actions.newProduct(user));\n    }\n\n    updateProductState();\n  }, [dispatch, props.match.params]);\n  useEffect(function () {\n    if (product.data && !form || product.data && form && product.data.id !== form.id) {\n      setForm(product.data);\n    }\n  }, [form, product.data, setForm]);\n\n  function handleChangeTab(event, tabValue) {\n    console('TAB VALUE: ', tabValue);\n    setTabValue(tabValue);\n  }\n\n  function handleChipChange(value, name) {\n    console.log('VALUE: ', value);\n\n    if (value.length != 0) {\n      setForm(_.set(_objectSpread({}, form), name, value.value));\n    } else {\n      setForm(_.set(_objectSpread({}, form), name, null));\n    }\n  }\n\n  function handleAnotherChipChange(value, name) {\n    console.log('VALUE: ', value);\n\n    if (value.length !== 0) {\n      setForm(_.set(_objectSpread({}, form), name, value.id));\n    } else {\n      setForm(_.set(_objectSpread({}, form), name, null));\n    }\n  }\n\n  function canBeSubmitted() {\n    console.log('FORM: ', form);\n\n    if (form.departments != undefined) {\n      return form.departments.length > 0 && !_.isEqual(product.data, form);\n    } else {\n      return null;\n    }\n  }\n\n  return React.createElement(FusePageCarded, {\n    classes: {\n      toolbar: \"p-0\",\n      header: \"min-h-72 h-72 sm:h-136 sm:min-h-136\"\n    },\n    header: form && React.createElement(\"div\", {\n      className: \"flex flex-1 w-full items-center justify-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-col items-start max-w-full\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(FuseAnimate, {\n      animation: \"transition.slideRightIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"normal-case flex items-center sm:mb-12\",\n      component: Link,\n      role: \"button\",\n      to: \"/apps/user/events/\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"mr-4 text-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"arrow_back\"), \"Evenements\")), React.createElement(\"div\", {\n      className: \"flex items-center max-w-full\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-col min-w-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(FuseAnimate, {\n      animation: \"transition.slideLeftIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"caption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"New Evenement\"))))), React.createElement(FuseAnimate, {\n      animation: \"transition.slideRightIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"whitespace-no-wrap\",\n      variant: \"contained\",\n      disabled: !canBeSubmitted(),\n      onClick: function onClick() {\n        return dispatch(Actions.saveCategory(form));\n      },\n      component: Link,\n      to: \"/apps/user/salleevent/new/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Proceed\"))),\n    contentToolbar: React.createElement(Tabs, {\n      value: tabValue,\n      onChange: handleChangeTab,\n      indicatorColor: \"secondary\",\n      textColor: \"secondary\",\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      classes: {\n        root: \"w-full h-64\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      className: \"h-64 normal-case\",\n      label: \"Select Department To Reserve\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    })),\n    content: form && React.createElement(\"div\", {\n      className: \"p-16 sm:p-24 max-w-2xl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, tabValue === 0 && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(FuseChipSelect, {\n      className: \"w-full my-16\",\n      onChange: function onChange(value) {\n        return handleAnotherChipChange(value, 'department');\n      },\n      placeholder: \"Select a single option\",\n      textFieldProps: {\n        label: 'Department',\n        InputLabelProps: {\n          shrink: true\n        },\n        variant: 'standard'\n      },\n      options: form.departments != undefined ? form.departments.map(function (item) {\n        return console.log('ITEM: ', item), {\n          value: item.name,\n          label: item.name,\n          id: item.id\n        };\n      }) : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }))),\n    innerScroll: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  });\n}\n\nexport default withReducer('eCommerceApp', reducer)(Product);","map":{"version":3,"sources":["C:\\Users\\hp folio\\Documents\\ProjetLibre\\Front\\gestion-salle-front\\src\\app\\main\\evenementUser\\product\\Product.js"],"names":["React","useEffect","useState","Button","Tab","Tabs","TextField","InputAdornment","Icon","Typography","orange","makeStyles","FuseAnimate","FusePageCarded","FuseChipSelect","FuseUtils","useForm","Link","clsx","_","useDispatch","useSelector","withReducer","Actions","reducer","useStyles","theme","productImageFeaturedStar","position","top","right","color","opacity","productImageUpload","transitionProperty","transitionDuration","transitions","duration","short","transitionTimingFunction","easing","easeInOut","productImageItem","pointerEvents","boxShadow","shadows","Product","props","console","log","dispatch","product","eCommerceApp","classes","tabValue","setTabValue","form","handleChange","setForm","user","auth","suggestions","map","item","value","label","updateProductState","params","match","newProduct","data","id","handleChangeTab","event","handleChipChange","name","length","set","handleAnotherChipChange","canBeSubmitted","departments","undefined","isEqual","toolbar","header","saveCategory","root","InputLabelProps","shrink","variant"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Button, Tab, Tabs, TextField, InputAdornment, Icon, Typography} from '@material-ui/core';\nimport {orange} from '@material-ui/core/colors';\nimport {makeStyles} from '@material-ui/styles';\nimport {FuseAnimate, FusePageCarded, FuseChipSelect, FuseUtils} from '@fuse';\nimport {useForm} from '@fuse/hooks';\nimport {Link} from 'react-router-dom';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport {useDispatch, useSelector} from 'react-redux';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\n\nconst useStyles = makeStyles(theme => ({\n    productImageFeaturedStar: {\n        position: 'absolute',\n        top     : 0,\n        right   : 0,\n        color   : orange[400],\n        opacity : 0\n    },\n    productImageUpload      : {\n        transitionProperty      : 'box-shadow',\n        transitionDuration      : theme.transitions.duration.short,\n        transitionTimingFunction: theme.transitions.easing.easeInOut,\n    },\n    productImageItem        : {\n        transitionProperty      : 'box-shadow',\n        transitionDuration      : theme.transitions.duration.short,\n        transitionTimingFunction: theme.transitions.easing.easeInOut,\n        '&:hover'               : {\n            '& $productImageFeaturedStar': {\n                opacity: .8\n            }\n        },\n        '&.featured'            : {\n            pointerEvents                      : 'none',\n            boxShadow                          : theme.shadows[3],\n            '& $productImageFeaturedStar'      : {\n                opacity: 1\n            },\n            '&:hover $productImageFeaturedStar': {\n                opacity: 1\n            }\n        }\n    }\n}));\n\nfunction Product(props)\n{\n    console.log('PROPS: ', props);\n    const dispatch = useDispatch();\n    const product = useSelector(({eCommerceApp}) => eCommerceApp.product);\n    console.log(product);\n    const classes = useStyles(props);\n    const [tabValue, setTabValue] = useState(0);\n    const {form, handleChange, setForm} = useForm(null);\n    console.log(form);\n    const user = useSelector(({auth}) => auth.user);\n    console.log('user: ',user)\n\n    const suggestions = [\n        'YES',\n        'NO'\n    ].map(item => ({\n        value: item,\n        label: item\n    }));\n\n    useEffect(() => {\n        function updateProductState()\n        {\n            const params = props.match.params;\n            /*\n            const {userId} = params;\n            console.log('PRODUCTID: ', userId);\n            if ( userId === 'new' )\n            {\n                console.log('TRIGGERED NEW PRODUCT FUNCTION');\n                dispatch(Actions.newProduct(user));\n            }\n            else\n            {\n                console.log('TRIGGERED GET PRODUCT: ', props.match.params);\n                dispatch(Actions.getProduct(props.match.params));\n            }\n            */\n            dispatch(Actions.newProduct(user));\n        }\n\n        updateProductState();\n    }, [dispatch, props.match.params]);\n\n    useEffect(() => {\n        if (\n            (product.data && !form) ||\n            (product.data && form && product.data.id !== form.id)\n        )\n        {\n            setForm(product.data);\n        }\n    }, [form, product.data, setForm]);\n\n    function handleChangeTab(event, tabValue)\n    {\n        console('TAB VALUE: ', tabValue);\n        setTabValue(tabValue);\n    }\n\n    function handleChipChange(value, name)\n    {\n\n        console.log('VALUE: ', value);\n        if(value.length != 0){\n            setForm(_.set({...form}, name, value.value));\n        }\n        else{\n            setForm(_.set({...form}, name, null));\n        }\n    }\n\n    function handleAnotherChipChange(value, name)\n    {\n\n        console.log('VALUE: ', value);\n        if(value.length !== 0){\n            setForm(_.set({...form}, name, value.id));\n        }\n        else{\n            setForm(_.set({...form}, name, null));\n        }\n    }\n\n    function canBeSubmitted()\n    {\n        console.log('FORM: ', form);\n        if(form.departments !=undefined) {\n            return (\n                form.departments.length > 0 &&\n                !_.isEqual(product.data, form)\n            );\n        }else{\n            return null;\n        }\n    }\n\n    return (\n        <FusePageCarded\n            classes={{\n                toolbar: \"p-0\",\n                header : \"min-h-72 h-72 sm:h-136 sm:min-h-136\"\n            }}\n            header={\n                form && (\n                    <div className=\"flex flex-1 w-full items-center justify-between\">\n\n                        <div className=\"flex flex-col items-start max-w-full\">\n\n                            <FuseAnimate animation=\"transition.slideRightIn\" delay={300}>\n                                <Typography className=\"normal-case flex items-center sm:mb-12\" component={Link} role=\"button\" to=\"/apps/user/events/\" color=\"inherit\">\n                                    <Icon className=\"mr-4 text-20\">arrow_back</Icon>\n                                    Evenements\n                                </Typography>\n                            </FuseAnimate>\n\n                            <div className=\"flex items-center max-w-full\">\n\n                                <div className=\"flex flex-col min-w-0\">\n\n                                    <FuseAnimate animation=\"transition.slideLeftIn\" delay={300}>\n                                        <Typography variant=\"caption\">New Evenement</Typography>\n                                    </FuseAnimate>\n                                </div>\n                            </div>\n                        </div>\n                        <FuseAnimate animation=\"transition.slideRightIn\" delay={300}>\n                            <Button\n                                className=\"whitespace-no-wrap\"\n                                variant=\"contained\"\n                                disabled={!canBeSubmitted()}\n                                onClick={() => dispatch(Actions.saveCategory(form))}\n                                component={Link} to=\"/apps/user/salleevent/new/\"\n\n                            >\n                                Proceed\n                            </Button>\n                        </FuseAnimate>\n                    </div>\n                )\n            }\n            contentToolbar={\n                <Tabs\n                    value={tabValue}\n                    onChange={handleChangeTab}\n                    indicatorColor=\"secondary\"\n                    textColor=\"secondary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                    classes={{root: \"w-full h-64\"}}\n                >\n                    <Tab className=\"h-64 normal-case\" label=\"Select Department To Reserve\"/>\n                </Tabs>\n            }\n            content={\n                form && (\n                    <div className=\"p-16 sm:p-24 max-w-2xl\">\n                        {tabValue === 0 &&\n                        (\n\n\n\n                            <div>\n\n\n\n                                <FuseChipSelect\n                                    className=\"w-full my-16\"\n                                    onChange={(value) => handleAnotherChipChange(value, 'department')}\n                                    placeholder=\"Select a single option\"\n                                    textFieldProps={{\n                                        label          : 'Department',\n                                        InputLabelProps: {\n                                            shrink: true\n                                        },\n                                        variant        : 'standard'\n                                    }}\n                                    options={\n                                        form.departments !=undefined ?\n                                        form.departments.map(item => (console.log('ITEM: ',item) ,{\n                                            value: item.name,\n                                            label: item.name,\n                                            id: item.id\n                                        })) : ''\n                                    }\n                                />\n\n                            </div>\n                        )}\n                    </div>\n                )\n            }\n            innerScroll\n        />\n    )\n}\n\nexport default withReducer('eCommerceApp', reducer)(Product);\n"]},"metadata":{},"sourceType":"module"}