{"ast":null,"code":"import axios from 'axios';\nimport { FuseUtils } from '@fuse';\nimport { showMessage } from 'app/store/actions/fuse';\nimport { useSelector } from \"react-redux\";\nexport var GET_CATEGORY = '[E-COMMERCE APP] GET CATEGORY';\nexport var SAVE_PRODUCT = '[E-COMMERCE APP] SAVE PRODUCT';\nexport var SAVE_CATEGORY = '[E-COMMERCE APP] SAVE CATEGORY';\nexport function getProduct(params) {\n  console.log('GET PRODUCT PARAMS: ', params);\n  var request = axios.get(\"\".concat(process.env.REACT_APP_API_URL, \"/user/\").concat(params.userId, \"/category\"));\n  return function (dispatch) {\n    return request.then(function (response) {\n      var data = {\n        id: response.data._id,\n        response: ''\n      };\n      return dispatch({\n        type: GET_CATEGORY,\n        payload: data\n      });\n    });\n  };\n}\nexport function saveCategory(data, user) {\n  console.log('SAVE CATEGORY DATA: ', data);\n  console.log('SAVE PRODUCT DATA USER: ', user); //const request = axios.post('/api/create-ticket-app/ticket/save', data);\n\n  var request = axios.post(\"\".concat(process.env.REACT_APP_API_URL, \"/salles/salle/new\"), {\n    name: data.name,\n    positions: data.positions,\n    computers: data.computers,\n    board: data.board,\n    conditioning: data.conditioning,\n    speakers: data.speakers,\n    projector: data.projector,\n    network: data.network,\n    department: {\n      id: data.department\n    }\n  });\n  return function (dispatch) {\n    return request.then(function (response) {\n      dispatch(showMessage({\n        message: 'Salle Saved'\n      }));\n      return dispatch({\n        type: SAVE_CATEGORY,\n        data: data\n      });\n    });\n  };\n}\nexport function newProduct(params) {\n  var request = axios.get(\"\".concat(process.env.REACT_APP_API_URL, \"/departments/\"));\n  return function (dispatch) {\n    return request.then(function (response) {\n      var data = {\n        id: FuseUtils.generateGUID(),\n        name: '',\n        positions: 0,\n        computers: 0,\n        board: '',\n        projector: '',\n        network: '',\n        speakers: '',\n        conditioning: '',\n        departments: response.data\n      };\n      return dispatch({\n        type: GET_CATEGORY,\n        payload: data\n      });\n    });\n  };\n}","map":{"version":3,"sources":["C:\\Users\\hp folio\\Documents\\ProjetLibre\\Front\\gestion-salle-front\\src\\app\\main\\salle\\store\\actions\\product.actions.js"],"names":["axios","FuseUtils","showMessage","useSelector","GET_CATEGORY","SAVE_PRODUCT","SAVE_CATEGORY","getProduct","params","console","log","request","get","process","env","REACT_APP_API_URL","userId","dispatch","then","response","data","id","_id","type","payload","saveCategory","user","post","name","positions","computers","board","conditioning","speakers","projector","network","department","message","newProduct","generateGUID","departments"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {FuseUtils} from '@fuse';\nimport {showMessage} from 'app/store/actions/fuse';\nimport {useSelector} from \"react-redux\";\n\nexport const GET_CATEGORY = '[E-COMMERCE APP] GET CATEGORY';\nexport const SAVE_PRODUCT = '[E-COMMERCE APP] SAVE PRODUCT';\nexport const SAVE_CATEGORY = '[E-COMMERCE APP] SAVE CATEGORY';\n\n\nexport function getProduct(params)\n{\n    console.log('GET PRODUCT PARAMS: ', params);\n    const request = axios.get(`${process.env.REACT_APP_API_URL}/user/${params.userId}/category`);\n\n    return (dispatch) =>\n        request.then((response) => {\n\n                const data = {\n                    id              : response.data._id,\n                    response: ''\n                };\n                return dispatch({\n                    type   : GET_CATEGORY,\n                    payload: data\n                })\n            }\n        );\n}\n\nexport function saveCategory(data, user)\n{\n    console.log('SAVE CATEGORY DATA: ',data);\n    console.log('SAVE PRODUCT DATA USER: ', user);\n    //const request = axios.post('/api/create-ticket-app/ticket/save', data);\n  const request = axios.post(`${process.env.REACT_APP_API_URL}/salles/salle/new`\n      ,{\n      name: data.name,\n      positions: data.positions,\n      computers: data.computers,\n      board: data.board,\n      conditioning: data.conditioning,\n      speakers: data.speakers,\n      projector: data.projector,\n      network : data.network,\n      department: {\n          id: data.department\n      }\n      });\n\n    return (dispatch) =>\n        request.then((response) => {\n\n                dispatch(showMessage({message: 'Salle Saved'}));\n\n                return dispatch({\n                    type   : SAVE_CATEGORY,\n                    data: data\n                })\n            }\n        );\n}\n\n\nexport function newProduct(params)\n{\n\n    const request = axios.get(`${process.env.REACT_APP_API_URL}/departments/`);\n\n    return (dispatch) =>\n        request.then((response) => {\n\n            const data = {\n                id              : FuseUtils.generateGUID(),\n                name            : '',\n                positions       : 0,\n                computers       : 0,\n                board           : '',\n                projector       : '',\n                network         : '',\n                speakers        : '',\n                conditioning    : '',\n                departments      : response.data\n\n            };\n            return dispatch({\n                type   : GET_CATEGORY,\n                payload: data\n            })\n            }\n        );\n\n}\n"]},"metadata":{},"sourceType":"module"}